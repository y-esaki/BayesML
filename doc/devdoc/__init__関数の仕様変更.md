# __init__関数の仕様変更についての相談とお願い

## 背景

* ベイズ統計学的には事前分布と事後分布のハイパーパラメータは同じ形の方がうれしい．
  * 事前分布の意味
  * 逐次更新
  * 混合正規分布の場合
* 事前分布のハイパーパラメータを一般化すると，インスタンス生成時のハイパーパラメータ指定方法が多様になりすぎる．
  * 個々の混合要素のハイパーパラメータを個別に指定する
  * 全混合要素のハイパーパラメータを共通にする（ブロードキャストできると嬉しい）
  * 次元がそろわない入力を受け付けなければならない．
* __init__の実装の手間が大きい．

## 対応案

モデルのパラメータを3つに分ける．

* constants
  * 事後分布更新などに関与しないが，paramsやh_paramsの行列サイズを定める既知定数．degree, num_classesなど．
  * インスタンス生成時，必ず手動で与える形式にする（デフォルト値無し）
  * c_valname
* params
  * サンプルを生成する確率分布のパラメータ
* h_params, h0_params, hn_params
  * paramsを生成する確率分布（事前分布）のパラメータ
  * これらは同じ型の行列にする
* p_params
  * 予測分布のパラメータ

次元確認は利用者が手動で与えたconstantsに対してparamsやh_paramsが整合しているかのみをチェックする．その際，ブロードキャストもうまく利用する．